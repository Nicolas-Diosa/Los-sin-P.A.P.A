<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Parchate · Mi Perfil</title>
<style>
  @font-face{font-family:"Tokyo";src:url("Tokyo.ttf") format("truetype");font-display:swap}
  :root{
    --primary:#FCAF56; --secondary:#7795FC;
    --g0:#fff; --g50:#f9fafb; --g100:#f3f4f6; --g200:#e5e7eb; --g300:#d1d5db; --g600:#4b5563; --g900:#111827;
    --ring:0 0 0 3px rgba(119,149,252,.35);
    --shadow:0 10px 24px rgba(0,0,0,.12);
    --radius:20px; /* Aumentado ligeramente para un look más robusto */
    --touch:44px;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--g50);color:var(--g900);font:16px/1.5 "Tokyo",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

  /* Nuevo Layout: Sidebar + Contenido */
  .app{min-height:100dvh;display:grid;grid-template-columns:280px 1fr}

  /* Estilos de Sidebar */
  aside{
    position:sticky; top:0; align-self:start; height:100dvh;
    background:var(--g0); border-right:1px solid var(--g200); padding:12px;
  }
  .brand{display:flex;align-items:center;gap:10px;padding:10px;border-radius:12px}
  .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--primary),var(--secondary))}
  .appname{font-weight:900;color:var(--secondary)}
  nav.sidebar-nav{margin-top:8px;display:grid;gap:6px}
  .nav-btn{
    display:flex;align-items:center;gap:10px;
    min-height:var(--touch); padding:10px 12px; border-radius:12px;
    background:transparent; border:1px solid transparent; text-decoration:none; color:var(--g900); font-weight:800;
  }
  .nav-btn:hover{background:var(--g100)}
  .nav-btn:focus-visible{outline:none;box-shadow:var(--ring)}
  /* Clase 'current' para el enlace activo */
  .current{background:rgba(119,149,252,.12); border:1px solid rgba(119,149,252,.35); color:#1f2a6a}
  .cta{background:var(--primary); color:#111; border:1px solid transparent}

  /* Estilos de Header */
  .header{
    position:sticky;top:0;z-index:10;background:var(--g0);border-bottom:1px solid var(--g200);box-shadow:0 1px 2px rgba(0,0,0,.05);
    height:64px;
  }
  .head{max-width:960px;margin:auto;padding:10px 16px;display:flex;align-items:center;gap:12px;height:100%}
  .title{font-weight:900;color:var(--secondary)}
  .spacer{margin-left:auto}
  .avatar-header{
    width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#c7d2fe,#93c5fd);
    display:grid;place-items:center;font-weight:900;font-size:16px;color:#1f2937;border:1px solid var(--g200);
  }
  
  /* Contenido principal */
  .container{
    max-width:960px; /* Aumentado de 900px a 960px para aprovechar más espacio */
    margin:auto;
    padding:30px 16px; /* Aumentado el padding vertical */
  }
  /* La tarjeta de perfil se beneficia del contenedor más amplio */
  .card{
    background:var(--g0);border:1px solid var(--g200);border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:30px; /* Aumentado de 16px a 30px para que sea más grande */
    display:grid;gap:20px; /* Aumentado el espacio entre secciones */
  }
  .row{display:flex;gap:24px;align-items:center;flex-wrap:wrap} /* Aumentado el gap */
  .avatar{
    width:120px; /* Aumentado de 96px a 120px */
    height:120px; /* Aumentado de 96px a 120px */
    border-radius:50%;border:4px solid #eef2ff; /* Borde más grueso */
    display:grid;place-items:center;
    background:linear-gradient(135deg,#c7d2fe,#93c5fd);color:#1f2a6a;
    font-weight:900;font-size:36px; /* Texto más grande */
    overflow:hidden
  }
  .name{font-size:1.5rem;font-weight:900} /* Fuente más grande */
  .bio{color:var(--g600); font-size:1.1rem;} /* Fuente más grande */
  .actions{display:flex;gap:12px;flex-wrap:wrap; margin-top:20px;} /* Margen superior y gap ajustados */
  .btn{min-height:var(--touch);padding:14px 22px;border-radius:16px;border:1px solid transparent;font-weight:800;cursor:pointer}
  .btn-primary{background:var(--primary);color:#111}
  .btn-light{background:var(--g0);border:1px solid var(--g300)}
  .btn:focus-visible{outline:none;box-shadow:var(--ring)}
  .meta-links{display:flex;gap:12px;flex-wrap:wrap}
  .sr-only{position:absolute;width:1px;height:1px;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;padding:0}

  @media (max-width:960px){
    .app{grid-template-columns:1fr}
    aside{display:none} 
    .head .logo, .head .title { display: none; }
    .container{padding:16px}
  }
</style>
</head>
<body>
  <div class="app">
    <aside id="sidebar" aria-label="Menú lateral de navegación">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="appname">Parchate</div>
      </div>
      <nav class="sidebar-nav" role="navigation" aria-label="Navegación principal">
        <a class="nav-btn" href="{% url 'actividades' %}">Inicio / Actividades</a>
        <a class="nav-btn cta" href="{% url 'area_privada' %}" aria-label="Ir a área privada y gestión del tiempo">Área privada y gestión del tiempo</a>
        <a class="nav-btn current" href="{% url 'perfil' %}" aria-current="page">Perfil de usuario</a>
        <a class="nav-btn" href="/logout/">Cerrar sesión</a>
      </nav>
    </aside>

    <main role="main">
      <header class="header" role="banner">
        <div class="head">
          <div class="title">Mi Perfil</div>
          <div class="spacer"></div>
        </div>
      </header>

      <div class="container">
        <section class="card" aria-labelledby="p-title">
          <h1 id="p-title" class="sr-only">Datos del perfil</h1>
          
          <div class="row">
            <div class="avatar" id="avatar" aria-label="Inicial usuario">
              {{ usuario.nombre|default:usuario.nombre_usuario|slice:":1"|upper }}
            </div>
            <div>
              <div class="name">{{ usuario.nombre_usuario }}</div>
              <div class="bio">{{ usuario.bio|default:"—" }}</div>
            </div>
          </div>

          <div class="actions" aria-label="Acciones">
            <a href="{% url 'editar_perfil' %}" class="btn btn-primary" role="button">Editar perfil</a>
            <a href="/logout/" class="btn btn-light" role="button">Cerrar sesión</a>
          </div>

          <div class="meta-links">
            <a class="nav-btn" href="{% url 'area_privada' %}">Area privada</a>
            <a class="nav-btn" href="{% url 'actividades' %}">Ir a actividades</a>
          </div>
        </section>
      </div>
    </main>
  </div>
</body>
</html>